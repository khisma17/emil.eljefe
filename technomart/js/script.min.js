var ESC="Escape",feedbackLink=document.querySelector(".contacts-button"),feedbackPopup=document.querySelector(".modal-contact-us"),feedbackClose=document.querySelector(".feedback-close-button"),feedbackForm=document.querySelector(".feedback-form"),feedbackName=document.querySelector("[name = name]"),feedbackEmail=document.querySelector("[name = email]"),feedbackText=document.querySelector("[name = text]"),isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport="false"}null!==feedbackLink&&feedbackLink.addEventListener("click",function(e){e.preventDefault(),feedbackPopup.classList.remove("visually-hidden"),feedbackPopup.classList.add("modal-show"),storageName?feedbackName.value=storageName:feedbackName.focus(),storageEmail?feedbackEmail.value=storageEmail:feedbackEmail.focus(),storageName&&storageEmail&&feedbackText.focus()}),null!==feedbackClose&&(feedbackClose.addEventListener("click",function(){feedbackPopup.classList.remove("modal-show"),feedbackPopup.classList.add("visually-hidden")}),feedbackForm.addEventListener("submit",function(e){feedbackName.value&&feedbackEmail.value&&feedbackText.value?isStorageSupport&&(localStorage.setItem("name",feedbackName.value),localStorage.setItem("email",feedbackEmail.value)):(e.preventDefault(),feedbackPopup.classList.remove("modal-error"),feedbackPopup.offsetWidth,feedbackPopup.classList.add("modal-error"))})),null!==feedbackPopup&&document.addEventListener("keydown",function(e){e.key===ESC&&feedbackPopup.classList.contains("modal-show")&&(e.preventDefault(),feedbackPopup.classList.remove("modal-show"),feedbackPopup.classList.add("visually-hidden"))});var mapLink=document.querySelector(".contacts-map"),mapPopup=document.querySelector(".modal-map"),mapClose=document.querySelector(".map-close-button");function init(){new ymaps.Map("yandex-map",{center:[59.938635,30.323118],zoom:17})}null!==mapPopup&&ymaps.ready(init),null!==mapPopup&&mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("visually-hidden"),mapPopup.classList.add("modal-show")}),null!==mapPopup&&mapClose.addEventListener("click",function(){mapPopup.classList.remove("modal-show"),mapPopup.classList.add("visually-hidden")}),null!==mapPopup&&document.addEventListener("keydown",function(e){e.key===ESC&&mapPopup.classList.contains("modal-show")&&(e.preventDefault(),mapPopup.classList.remove("modal-show"),mapPopup.classList.add("visually-hidden"))});var cartLinks=document.querySelectorAll(".buy-button"),cartPopup=document.querySelector(".modal-added-to-cart"),cartClose=document.querySelector(".cart-close-button"),cartContinue=document.querySelector(".continue-button"),cartCounter=document.querySelector(".cart-counter"),cartTab=document.querySelector(".cart-link");if(null!==cartLinks)for(var i=0;i<cartLinks.length;i++)cartLinks[i].addEventListener("click",function(e){e.preventDefault();var t=parseInt(cartCounter.textContent);cartCounter.textContent=t+1,cartPopup.classList.remove("visually-hidden"),cartPopup.classList.add("modal-show"),0<parseInt(cartCounter.textContent)&&cartTab.classList.add("active")});cartClose.addEventListener("click",function(){cartPopup.classList.remove("modal-show"),cartPopup.classList.add("visually-hidden")}),cartContinue.addEventListener("click",function(e){e.preventDefault(),cartPopup.classList.remove("modal-show"),cartPopup.classList.add("visually-hidden")}),document.addEventListener("keydown",function(e){e.key===ESC&&cartPopup.classList.contains("modal-show")&&(e.preventDefault(),cartPopup.classList.remove("modal-show"),cartPopup.classList.add("visually-hidden"))});var sliderControls=document.querySelectorAll(".slider-controls-button"),sliderItems=document.querySelectorAll(".slider-item"),sliderPaginators=document.querySelectorAll(".slider-pagination-button"),countSlider=1;function addVisuallyHiddenSliderClass(){for(var e=0;e<sliderItems.length;e++)sliderItems[e].classList.add("visually-hidden"),sliderPaginators[e].classList.remove("current")}function removeVisuallyHiddenSliderClass(){for(var e=0;e<sliderItems.length;e++)sliderPaginators[e].classList.contains("current")&&sliderItems[e].classList.remove("visually-hidden")}for(var j=0;j<sliderControls.length;j++)sliderControls[j].addEventListener("click",function(){addVisuallyHiddenSliderClass(),sliderItems[(sliderItems.length+countSlider)%sliderItems.length].classList.remove("visually-hidden"),sliderPaginators[(sliderPaginators.length+countSlider)%sliderPaginators.length].classList.add("current"),countSlider++});for(var k=0;k<sliderPaginators.length;k++)sliderPaginators[k].addEventListener("click",function(e){addVisuallyHiddenSliderClass(),e.target.classList.add("current"),removeVisuallyHiddenSliderClass()});var servicesButtons=document.querySelectorAll(".services-slider-button"),servicesCount=servicesButtons.length-1,servicesItems=document.querySelectorAll(".services-slider-item");function removeIsActiveTabClass(){for(var e=0;e<=servicesCount;e++)servicesButtons[e].classList.remove("active"),servicesItems[e].classList.add("visually-hidden")}function removeVisuallyHiddenItemClass(){for(var e=0;e<=servicesCount;e++)servicesButtons[e].classList.contains("active")&&servicesItems[e].classList.remove("visually-hidden")}for(j=0;j<=servicesCount;j++)servicesButtons[j].addEventListener("click",function(e){removeIsActiveTabClass(),e.target.classList.add("active"),removeVisuallyHiddenItemClass()});
